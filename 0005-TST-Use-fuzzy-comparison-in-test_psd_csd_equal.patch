From aaab55ffee458dc867f3f51e2a9908c6885b7dec Mon Sep 17 00:00:00 2001
From: Elliott Sales de Andrade <quantum.analyst@gmail.com>
Date: Sat, 7 Oct 2017 05:40:35 -0400
Subject: [PATCH 5/8] TST: Use fuzzy comparison in test_psd_csd_equal.

Fixes #7158.

Signed-off-by: Elliott Sales de Andrade <quantum.analyst@gmail.com>
---
 lib/matplotlib/tests/test_mlab.py | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/lib/matplotlib/tests/test_mlab.py b/lib/matplotlib/tests/test_mlab.py
index 15047bdeb..ef36eaf0b 100644
--- a/lib/matplotlib/tests/test_mlab.py
+++ b/lib/matplotlib/tests/test_mlab.py
@@ -7,7 +7,7 @@ import tempfile
 import warnings
 
 from numpy.testing import (assert_allclose, assert_almost_equal,
-                           assert_array_equal)
+                           assert_array_equal, assert_array_almost_equal_nulp)
 import numpy.ma.testutils as matest
 import numpy as np
 import datetime as datetime
@@ -1985,7 +1985,7 @@ class TestSpectral(object):
                                 noverlap=self.nover_density,
                                 pad_to=self.pad_to_density,
                                 sides=self.sides)
-        assert_array_equal(Pxx, Pxy)
+        assert_array_almost_equal_nulp(Pxx, Pxy)
         assert_array_equal(freqsxx, freqsxy)
 
     def test_specgram_auto_default_equal(self):
-- 
2.13.5

